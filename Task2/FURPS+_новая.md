# Требования к цифровизации депозитного и кредитного направлений в формате FURPS+

| Код | Требование                                                                                                                          | Комментарий |
|----|-------------------------------------------------------------------------------------------------------------------------------------|-------------|
| **F**   | **Функциональные (Functionality)**                                                                                                  |              |
| F1 | Подача заявки на депозит/кредит через сайт (для новых клиентов)                                                                     | Для депозита: сбор ФИО и телефона, передача в кол-центр. Для кредита: сбор ФИО, телефона и паспорта, интеграция со скорингом для предрешения, передача в Кредитный конвейер |
| F2 | Подача заявки на депозит/кредит через интернет-банк (для существующих клиентов)                                                     | Для депозита: отображение персонализированных ставок, выбор счета, списание средств, подтверждение по SMS. Для кредита: отображение предодобренных предложений, подача заявки, подтверждение по SMS |
| **F3** | **Централизованное управление продуктами (ставками)**                                                                               | **Архитектурно-значимое.** Необходимо уйти от XLS-файлов. Требуется единый API или база для хранения актуальных ставок по депозитам и условий по кредитам, доступный для сайта, ИБ, АБС, бэк-офиса |
| F4 | Обработка заявок бэк-офисом в АБС                                                                                                   | Менеджеры бэк-офиса должны видеть и подтверждать заявки на депозиты, поступившие из цифровых каналов. Для кредитов — продолжение обработки существующей заявки |
| **F5** | **Интеграция с СМС-шлюзом для подтверждения операций и уведомлений**                                                                | **Архитектурно-значимое.** Использовать существующий шлюз. Необходим унифицированный сервис для отправки SMS, чтобы не зависеть от ядра ИБ |
| F6 | Скоринг для кредитных заявок                                                                                                        | Интеграция с существующей системой скоринга через ее REST API |
|----| ------------                                                                                                                        |-------------|
| **U**   | **Удобство использования (Usability)**                                                                                              |              |
| **U1** | **Отклик UI (время загрузки страниц/данных) < 1 секунда**                                                                           | **Архитектурно-значимое.** Прямое указание на проблему с медленными справочными данными. Требует внедрения кэширования и оптимизации запросов |
| U2 | Соблюдение единой системы дизайна (UI Kit, брендбук)                                                                                | Обеспечивает консистентность пользовательского опыта на сайте и в ИБ |
| U3 | Минимизация шагов для оформления продукта ("3 клика")                                                                               | Повышает конверсию |
|----| ------------                                                                                                                        |-------------|
| **R**   | **Надёжность (Reliability)**                                                                                                        |              |
| **R1** | **Доступность сервисов 99.9% (24/7)**                                                                                               | **Архитектурно-значимое.** Относится к ИБ, АБС (косвенно), новым сервисам. Требует отказоустойчивой архитектуры, апскайлинга, планов переключения на резервный ЦОД |
| **R2** | **Изоляция АБС от прямой нагрузки из интернет-каналов**                                                                             | **Критически важное архитектурное требование.** Прямые вызовы API АБС из ИБ запрещены из-за риска перегрузки. Необходим буфер (асинхронное взаимодействие через очереди или базу) |
| R3 | Восстанавливаемость: время переключения на резервный ЦОД для ИБ должно быть минимизировано                                          | Сейчас процесс, видимо, не автоматизирован. Для выполнения R1 это необходимо исправить |
|----| ------------                                                                                                                        |-------------|
| **P**   | **Производительность (Performance)**                                                                                                |              |
| **P1** | **Время обработки ключевых операций (подача заявки, отображение данных) — до 300 мсек**                                             | **Архитектурно-значимое.** Подтверждает требование U1 и диктует использование высокопроизводительных решений (кэш, быстрые БД, оптимизированные API) |
| **P2** | **Поддержка горизонтального масштабирования для новых сервисов и ИБ (в перспективе)**                                               | **Архитектурно-значимое.** Прямое указание на необходимость ухода от монолита к микросервисам для обеспечения надежности и производительности |
| P3 | Вертикальное масштабирование для компонентов, связанных с АБС                                                                       | Вытекает из ограничения самой АБС |
| **P4** | **Ускорение обработки кредитных заявок по предодобренным предложениям: вместо ежесуточного надо довести до "в течение рабочего дня"** | **Архитектурно-значимое.** Требует изменения процесса обмена данными между АБС и Кредитным конвейером (с ежесуточного на near real-time) |
|----| ------------                                                                                                                        |-------------|
| **S**   | **Поддерживаемость (Supportability)**                                                                                               |              |
| **S1** | **Максимальное использование существующих в банке технологий**                                                                      | **Архитектурно-значимое.** Java, Spring Boot, .NET, Oracle, MS SQL, Python (Flask) являются приоритетными. Снижает затраты на обучение и внедрение |
| **S2** | **Предпочтение Kafka в качестве шины данных для новых асинхронных интеграций**                                                      | **Архитектурно-значимое.** Задает стандарт для межсервисного взаимодействия в новых системах |
| S3 | Разработка документации для дальнейшего расширения системы                                                                          | Важно для долгосрочной поддерживаемости |
| S4 | Тестируемость: новые сервисы должны иметь модульные и интеграционные тесты                                                          | Снижает риски при внесении изменений |
|----| ------------                                                                                                                        |-------------|
| **+R**  | **+ Ограничения (Restrictions)**                                                                                                    |              |
| +R  | + Design Constraints                                                                                                                |              |
| **DC1** | **Новая функциональность в ИБ должна быть изолирована в виде микросервисов (в рамках MVP)**                                         | **Ключевое архитектурное решение.** Позволяет обойти ограничения текущего монолита ИБ (.NET 4.5), использовать современные технологии (Kafka, Java) и независимо масштабировать новую функциональность |
| DC2 | Использование React.js для новых веб-интерфейсов                                                                                    | Соответствует существующему стеку (сайт, система кол-центра) |
| **DC3** | **Защита передаваемых данных с помощью шифрования TLS 1.2+**                                                                        | Стандартное требование для финансовых систем, особенно при передаче ПДн |
| +R  | + Implementation Constraints                                                                                                        |              |
| **IC1** | **Избегать доработок ядра ИБ силами подрядчика**                                                                                    | **Важное ограничение.** Толкает к реализации функциональности (например, SMS) силами банка в новом микросервисе |
| **IC2** | **Команда АБС имеет экспертизу в Java, может дорабатывать кредитный конвейер и, возможно, новые сервисы**                           | **Важное ограничение/возможность.** Делает Java предпочтительным языком для новых бэкенд-сервисов |
| IC3 | Команда ИБ имеет экспертизу в .NET                                                                                                  | Нужно учитывать при разделении зон ответственности |
| +R  | + Interface Constraints                                                                                                             |              |
| **INT1** | **Все интеграции с АБС должны быть асинхронными (через БД или очереди)**                                                            | **Критически важное архитектурное ограничение.** Напрямую вытекает из R2. Защищает АБС от пиковых нагрузок |
| INT2 | Интеграция с СМС-шлюзом через существующий API                                                                                      | |
| INT3 | Интеграция с системой скоринга через REST API                                                                                       | |
| INT4 | Интеграция с Кредитным конвейером (Camunda) через REST API                                                                          | |
| INT5 | Интеграция с Бюро кредитных историй через REST API                                                                                  | |
| INT6 | Интеграция сайта и ИБ с системой кол-центра (для заявок с сайта)                                                                    | |

## Дополнительные архитектурно-значимые требования

1. **Консистентность данных** - Необходим механизм для связывания заявок, созданных на сайте и продолжаемых в АБС (единый ID)
2. **Мониторинг и observability** - Требуется централизованное логирование, мониторинг метрик и трассировка запросов для распределенных сервисов
3. **Безопасность (RBAC)** - Реализация ролевой модели доступа для сервиса управления продуктами
4. **Резервирование Kafka** - Кластеризация Kafka для исключения единой точки отказа